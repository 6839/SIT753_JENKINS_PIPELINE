pipeline {
    agent any
    stages {
        stage("Build") {
            steps {
                echo "Building the code via Maven..."
            }
        }
        stage("Tests") {
            steps {
                echo "Running tests via JUnit..."
            }
			
			post {
				success {
					mail to: "zhijianmin8@gmail.com",
					subject: "Tests Success Status Email",
					body: "Tests were successful!",
					attachLog: true
				}
				failure {
					mail to: "zhijianmin8@gmail.com",
					subject: "Tests Failure Status Email",
					body: "Tests were failed!",
					attachLog: true
				}
			}
        }
        stage("Security Scan") {
            steps {
                echo "Performing security scan on the code via OWASP ZAP..."
            }
        }
    }
}
